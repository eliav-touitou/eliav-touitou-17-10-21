(this["webpackJsonpeliav-touitou-17-10-21"]=this["webpackJsonpeliav-touitou-17-10-21"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(25),i=n.n(r),s=(n(100),n(101),n(16)),o=function(e){return{type:"SET_CITY",payload:e}},u=function(e){return{type:"REMOVE_FROM_FAVORITES",payload:e}},l=function(e){return{type:"ADD_DATA",payload:e}},d=function(e){return{type:"SET_ERROR",payload:e}},j=n(2);function b(){var e=Object(s.c)((function(e){return e.city})),t=Object(s.c)((function(e){return e.weather})),n=Object(s.b)();return Object(j.jsxs)("div",{className:"weather-side",children:[Object(j.jsx)("div",{className:"weather-gradient"}),Object(j.jsx)("button",{onClick:function(){e.isSaved?(n(u(e.key)),n(l({isSaved:!1}))):(n({type:"ADD_TO_FAVORITES",payload:{label:e.label,key:e.key}}),n(l({isSaved:!0})))},className:"location-button",id:"save-btn",children:Object(j.jsx)("span",{children:!0===e.isSaved?"remove from favorites":"like!"})}),Object(j.jsxs)("div",{className:"date-container",children:[Object(j.jsx)("h2",{className:"date-dayname",children:e.label}),Object(j.jsx)("span",{className:"date-day",children:(new Date).toString().split(" ").splice(1,3).join(" ")})]}),Object(j.jsx)("div",{className:"weather-container",children:Object(j.jsxs)("h1",{className:"weather-temp",children:[t.degrees,"\xb0C"]})})]})}function h(e){var t=e.day;return Object(j.jsxs)("li",{className:"active",children:[Object(j.jsx)("span",{className:"day-name",children:t.day}),Object(j.jsxs)("span",{className:"day-temp",children:[t.forecast.min,"\xb0C - ",t.forecast.max,"\xb0C"]})]})}function O(){var e,t=Object(s.c)((function(e){return e.forecast}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"week-container",children:Object(j.jsx)("ul",{className:"week-list",children:null===(e=t.forecast)||void 0===e?void 0:e.map((function(e,t){return Object(j.jsx)(h,{day:e},"day-".concat(t))}))})})})}var f=n(33),v=n(9),p=n(175),y=n(174),x=n(34),m=n.n(x),g=n(46),w=n(47),E=n.n(w),S="9iA7RFd8k5ScAExvnewAYoKuNGh7Kuy3",T=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,c,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://dataservice.accuweather.com/locations/v1/cities/autocomplete",n="?apikey=".concat(S,"&q=").concat(t),e.prev=2,e.next=5,E.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete"+n);case 5:return c=e.sent,a=c.data,r=[],a&&(null===a||void 0===a||a.forEach((function(e){var t={};t.label=e.LocalizedName+" / "+e.Country.LocalizedName,t.key=e.Key,r.push(t)}))),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,c,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://dataservice.accuweather.com/currentconditions/v1/".concat(t),c="?apikey=".concat(S),e.prev=2,e.next=5,E.a.get(n+c);case 5:return a=e.sent,r=a.data[0].Temperature.Metric.Value,i=Math.round(r),e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=new Date(e),n=new Array(7);return n[0]="Sunday",n[1]="Monday",n[2]="Tuesday",n[3]="Wednesday",n[4]="Thursday",n[5]="Friday",n[6]="Saturday",n[t.getDay()]},A=function(e){return Math.round(5*(e-32)/9)},F=function(){var e=Object(g.a)(m.a.mark((function e(t){var n,c,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t),c="?apikey=".concat(S),e.prev=2,e.next=5,E.a.get(n+c);case 5:return a=e.sent,e.next=8,a.data.DailyForecasts;case 8:return r=e.sent,i=[],r.forEach((function(e){var t={};t.day=k(e.Date),t.forecast={max:A(e.Temperature.Maximum.Value),min:A(e.Temperature.Minimum.Value),dayState:e.Day.IconPhrase,nightState:e.Night.IconPhrase},i.push(t)})),e.abrupt("return",i);case 14:throw e.prev=14,e.t0=e.catch(2),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();function R(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(v.a)(r,2),u=i[0],l=i[1],b=Object(s.b)();Object(c.useEffect)((function(){T(u).then((function(e){e&&a(e)})).catch((function(e){return b(d(e))}))}),[u]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y.a,{onChange:function(e,t){return function(e){e&&b(o(e))}(t)},disablePortal:!0,id:"combo-box-demo",options:n,sx:{width:300},renderInput:function(e){return Object(j.jsx)(p.a,Object(f.a)(Object(f.a)({id:"textField"},e),{},{label:"City",onChange:function(e){return l(e.target.value)}}))}})})}function D(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)("div",{className:"info-side",children:[Object(j.jsx)("div",{className:"today-info-container",children:Object(j.jsx)("div",{className:"today-info",children:Object(j.jsx)(R,{})})}),Object(j.jsx)(O,{})]})]})}var C=n(41);function _(e){var t=e.city,n=Object(s.b)(),a=Object(c.useState)(15),r=Object(v.a)(a,2),i=r[0],d=r[1];Object(c.useEffect)((function(){N(t.key).then((function(e){return d(e)})).catch((function(e){return d("-")}))}),[]);return Object(j.jsx)("li",{className:"active",children:Object(j.jsxs)(C.b,{exact:!0,to:"/",onClick:function(){return n(o(Object(f.a)(Object(f.a)({},t),{},{isSaved:!0})))},children:[Object(j.jsx)("span",{className:"day-name",children:t.label}),Object(j.jsxs)("span",{className:"day-temp",children:[i,"\xb0C"]}),Object(j.jsx)("button",{className:"location-button",onClick:function(){n(u(t.key)),n(l({isSaved:!1}))},children:Object(j.jsx)("span",{children:"Delete"})})]})})}function I(){var e=Object(s.c)((function(e){return e.favorites}));return Object(j.jsx)("div",{className:"week-container",children:Object(j.jsx)("ul",{className:"week-list",children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(j.jsx)(_,{city:e},"city-".concat(t))}))})})}var M=n(15),V=n(66);n(128);var K=function(){var e=Object(s.c)((function(e){return e.city})),t=Object(s.c)((function(e){return e.errorExisting}));Object(c.useEffect)((function(){t&&Object(V.b)("Sorry, there seem to be a problem with our server ")}),[t]);var n=Object(s.b)();return Object(c.useEffect)((function(){F(e.key).then((function(t){return n({type:"SET_FORECAST",payload:{cityKey:e.key,forecast:t}})})).catch((function(e){return n(d(e))})),N(e.key).then((function(t){return n({type:"SET_WEATHER",payload:{cityKey:e.key,degrees:t}})})).catch((function(e){return n(d(e))}))}),[e]),Object(j.jsxs)(C.a,{children:[Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)(C.c,{exact:!0,to:"/",children:Object(j.jsx)("button",{className:"location-button",children:Object(j.jsx)("span",{children:"Home"})})}),Object(j.jsx)(C.c,{exact:!0,to:"/favorites",children:Object(j.jsx)("button",{className:"location-button",children:Object(j.jsx)("span",{children:"Favorites"})})})]}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)(M.c,{children:[Object(j.jsx)(M.a,{exact:!0,path:"/",children:Object(j.jsx)(D,{})}),Object(j.jsx)(M.a,{exact:!0,path:"/favorites",children:Object(j.jsx)(I,{})})]}),Object(j.jsx)(V.a,{})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},L=n(81),W=n(38),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{label:"Tel Aviv / Israel",key:215854},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY":return t.payload;case"ADD_DATA":return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},Y=n(17),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVORITES":return[].concat(Object(Y.a)(e),[t.payload]);case"REMOVE_FROM_FAVORITES":return e.filter((function(e){return t.payload!==e.key}));default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_FORECAST"===t.type?t.payload:e},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_WEATHER"===t.type?t.payload:e},q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_ERROR"===t.type?t.payload:e},G=Object(W.combineReducers)({city:H,favorites:z,weather:J,forecast:B,errorExisting:q}),Q=n(82),U=Object(W.createStore)(G,{},Object(Q.composeWithDevTools)(Object(W.applyMiddleware)(L.a)));i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(s.a,{store:U,children:Object(j.jsx)(K,{})})}),document.getElementById("root")),P()}},[[129,1,2]]]);
//# sourceMappingURL=main.b17311a1.chunk.js.map